<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Bhoomika e-Mitra Recharge Panel</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{font-family:Arial;background:#0f2027;color:white;text-align:center}
.box{max-width:450px;margin:25px auto;background:#ffffff12;padding:20px;border-radius:15px}
input,select,button{width:100%;padding:10px;margin:6px 0;border:none;border-radius:8px}
button{background:#00c853;color:white;font-weight:bold}
.plan{background:#ffffff25;padding:8px;margin:4px;border-radius:8px;cursor:pointer}
#adminPanel{display:none}
table{width:100%;font-size:13px;margin-top:10px}
td,th{border-bottom:1px solid #ffffff22;padding:5px}
</style>
</head>

<body>

<h2>üîê Bhoomika e-Mitra Admin Panel</h2>

<!-- LOGIN -->
<div class="box" id="loginPanel">
<form onsubmit="return login(event)">
<input type="text" id="adminId" placeholder="Admin ID">
<input type="password" id="adminPass" placeholder="Password">
<button type="submit">Login</button>
<div id="msg"></div>
</form>
</div>

<!-- ADMIN PANEL -->
<div class="box" id="adminPanel">

<h3>Wallet: ‚Çπ <span id="wallet">10000</span></h3>

<h3>Add Balance</h3>
<input type="number" id="addMoney" placeholder="Enter Amount">
<button onclick="addBalance()">Add Wallet</button>

<hr>

<h3>Mobile Recharge</h3>
<input type="text" id="mobile" placeholder="Mobile Number">

<select id="operator">
<option value="">Operator</option>
<option>Jio</option>
<option>Airtel</option>
<option>Vi</option>
<option>BSNL</option>
</select>

<div id="plans"></div>

<input type="number" id="amount" placeholder="Amount">
<button onclick="recharge()">Recharge & Print</button>

<hr>

<h3>Recharge History</h3>
<table id="history">
<tr><th>No</th><th>Mobile</th><th>Amt</th></tr>
</table>

<button onclick="logout()" style="background:red">Logout</button>

</div>

<script>
let wallet=10000;
let count=0;
let historyData=[];

const plans=[149,199,239,299,399,479,666,719,999];
let html="";
plans.forEach(p=>{html+=<div class="plan" onclick="amount.value=${p}">‚Çπ${p}</div>});
plansDiv.innerHTML=html;

// LOGIN
function login(e){
e.preventDefault();
if(adminId.value.trim()=="11223344" && adminPass.value.trim()=="123456"){
loginPanel.style.display="none";
adminPanel.style.display="block";
}else msg.innerHTML="Wrong Login";
}

// ADD BALANCE
function addBalance(){
let add=parseInt(addMoney.value);
if(add>0){wallet+=add;walletSpan.innerText=wallet}
}
const walletSpan=document.getElementById("wallet");

// RECHARGE
function recharge(){
let m=mobile.value;
let amt=parseInt(amount.value);
if(m.length!=10||wallet<amt)return alert("Invalid");

wallet-=amt;
walletSpan.innerText=wallet;
count++;

historyData.push({m,amt});
updateHistory();
printSlip(m,amt);
}

// HISTORY
function updateHistory(){
let t='<tr><th>No</th><th>Mobile</th><th>Amt</th></tr>';
historyData.forEach((h,i)=>{t+=<tr><td>${i+1}</td><td>${h.m}</td><td>‚Çπ${h.amt}</td></tr>});
history.innerHTML=t;
}

// PRINT
function printSlip(m,amt){
let w=window.open('','','width=300,height=400');
w.document.write(`<h3>Bhoomika e-Mitra</h3>
Mobile: ${m}<br>
Amount: ‚Çπ${amt}<br>
Status: Success`);
w.print();
}

// LOGOUT
function logout(){location.reload()}
</script>

</body>
</html>